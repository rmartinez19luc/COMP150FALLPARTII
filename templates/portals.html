<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portals</title>
    <link rel="stylesheet" href="static/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Orbitron:wght@400;700&family=Uncial+Antiqua&family=Bangers&display=swap" rel="stylesheet">
     <style>
          body {
              background: url('static/portals_bkgd.webp') no-repeat center center fixed;
              background-size: cover;
              color: white;
              font-family: Arial, sans-serif;
              margin: 0;
              padding: 0;
          }
          .hidden {
              display: none;
          }
          h1, p {
              text-align: center;
          }
          button {
              position: absolute;
              padding: 10px 20px;
              font-size: 16px;
              border: none;
              border-radius: 5px;
              cursor: pointer;
          }
          .ancient-portal {
              top: 15%; /* Adjust vertical position */
              left: 10%; /* Adjust horizontal position */
              background-color: #8B4513;
              color: white;
              font-family: 'Cinzel', serif;
          }
          .medieval-portal {
              top: 15%; /* Keep in line with other buttons */
              left: 50%;
              background-color: #006400;
              color: white;
              font-family: 'Uncial Antiqua', cursive;
          }
          .futuristic-portal {
              top: 15%; /* Adjust vertical position */
              right: 10%; /* Adjust horizontal position */
              background-color: #4682B4;
              color: white;
              font-family: 'Orbitron', sans-serif;
          }
          .final-boss-portal {
              top: 80%;
              left: 50%;
              transform: translateX(-50%);
              background-color: #FF4500;
              color: white;
              font-family: 'Bangers', cursive;
          }
      </style>
</head>
<body>
<h1>Welcome to the Shattered Realms</h1>
<p>The fate of the dimensions rests in your hands. Choose a portal to embark on your quest and confront Bertak in the ultimate battle to restore the time machine and save all realms.</p>

<button class="ancient-portal" onclick="portalClick('ancient', '/ancient')">Ancient Portal</button>
<button class="medieval-portal" onclick="portalClick('medieval', '/medieval')">Medieval Portal</button>
<button class="futuristic-portal" onclick="portalClick('futuristic', '/futuristic')">Futuristic Portal</button>
<button class="final-boss-portal hidden" id="finalBossButton" onclick="window.location.href='/Boss'">Final Boss Portal</button>

<script>
    // Load the portalsClicked state from sessionStorage or initialize with default values
    const portalsClicked = JSON.parse(sessionStorage.getItem('portalsClicked')) || {
        ancient: false,
        medieval: false,
        futuristic: false
    };

    // Save portalsClicked state to sessionStorage
    function savePortalsState() {
        sessionStorage.setItem('portalsClicked', JSON.stringify(portalsClicked));
    }

    // Function to handle portal click and redirection
    function portalClick(portal, url) {
        portalsClicked[portal] = true; // Mark portal as clicked
        savePortalsState(); // Save the updated state
        checkPortals(); // Check if all portals have been clicked
        window.location.href = url; // Redirect to the specified URL
    }

    // Check if all portals have been clicked and show the Final Boss button if true
    function checkPortals() {
        if (portalsClicked.ancient && portalsClicked.medieval && portalsClicked.futuristic) {
            const finalBossButton = document.getElementById('finalBossButton');
            finalBossButton.classList.remove('hidden'); // Show the Final Boss button
        }
    }

    // Ensure the correct button visibility on page load
    checkPortals();
</script>
</body>
</html>
